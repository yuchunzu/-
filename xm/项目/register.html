<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="css/register.css">
	<script src="js/jquery-1.11.3.js"></script>
	<script type="text/javascript" src = "js/tool.js"></script>
	<script type="text/javascript" src = "js/perfect_startMove.js"></script>
	<script type="text/javascript" src='js/jQ.js'></script>
</head>
<body>
	<div id = "header">
		<span class = "Tin">欢迎来到时光印克!</span>
		<span class = "time">周一至周日8:30~21:00</span>
		<span class = "ser">客服热线:400-921-5757</span>
		<span class = "stock" >股票代码:837489</span>
		<a href = "#"><img src="images/tu.png"/><span>0</span>件</a>
		<a href = "login.html" id = "login">登录 | </a>
		<a href= "register.html" id = "register">注册</a>
		<span class = "adr"><img src = "images/tu1.png"/><a href = "#">南京</a></span>
	</div>
	<div id = "nav">
		<div id = "img1"><img src="images/1logo.png"/></div>
		<div id = "uli">
			<ul id = "ul1">
				<li><a href = "shop.html">蛋糕馆</a><div id = "cake"></div></li>
				<li><a href="#">GAW蛋糕</a><div id = "Gaw"></div></li>
				<li><a href="#">思蜜</a><div id = "sca"></div></li>
				<li><a href="#">活动专享</a><div id = "sales"></div></li>
				<li><a href="#">我的INCAKE</a><div id = "myInc"></div></li>
				<li><a href="#">企业专区</a><div id = "enz"></div></li>
				<li></li>
			</ul>
		</div>
	</div>
	<div id = "regis">
		<img src="images/23.jpg" id = "img">
		<div id = "ster">
			<h2 class = "from-header">
			<img src="images/dian.png">
			<span>新用户注册</span>
			</h2>
			<form>
				<div id = "phone">
				<img src="images/7.png" id = "img2">
				<input type = "text" id = "tel" placeholder = "请输入手机号(必填)"/><span id = "tel_span"></span>
				</div>
				<div id = "pasw">
				<img src="images/6.png" id = "img4">
				<input type = "password" id = "pwd"  placeholder = "请输入密码(必填)"/><span id = "pwd_span"></span>
				</div>
				<div id = "rpas">
				<img src="images/6.png" id = "img5">
				<input type = "password" id = "rpwd"  placeholder = "请输入确认密码(必填)"/><span id = "rpwd_span"></span>
				</div>
				<div id = "unam">
				<img src="images/5.png" id = "img6">
				<input type = "text" id = "name" placeholder = "请输入您的姓名(必填)"/><span id = "name_span"></span>
				</div>
				<div id = "reg">注册</div>
				<p class = "p1">已有账号, <a href = "login.html">登录</a></p>
			</form>
		</div>
	</div>
	<div id = "title"></div>
	<ul id = "subject">
		
	</ul>
	<div id = "bottom">
			<img src="images/1.png" id = "oimg1">
			<div id = "l1">
				<p>全年无休</p>
				<p>送货上门</p>
				<p>多种支付</p>
			</div>
			<img src="images/2.png" id = "oimg2">
			<div id = "l2">
				<p>品牌保障</p>
				<p>专业挑选</p>
				<p>品质认证</p>
			</div>
			<img src="images/3.png" id = "oimg3">
			<div id = "l3">
				<p>安全配送</p>
				<p>专人专区</p>
				<p>及时送达</p>
			</div>
			<img src="images/4.png" id = "oimg4">
			<div id = "l4">
				<p>专业客服</p>
				<p>贴心服务</p>
				<p>创造感动</p>
			</div>
	</div>
	<div id = "filter">
		<img src="images/footer.png" id = "oimg5">
		<div id = "wec">
			<p class = "title">微信订购流程:</p>
			<p class = "t2">关注微信公众号→点击[微信订购]→[蛋糕预定]→选择蛋糕磅数[立即购买]→点击[去结算]→确认订单信息→选择[支付方式]→输入优惠券密码→提交订单</p>
		</div>
		<div id = "footer">
		<p class = "l5">新手上路</p>
		<p>购买流程</p>
		<p>支付方式</p>
		<p>配送范围</p>
		<p>退货服务</p>
		<p>帮助中心</p>
		</div>
		<div id = "footer1">
		<p class = "l6">INCAKE产品</p>
		<p>精品蛋糕</p>
		<p>定制蛋糕</p>
		<p>INSWEET|思蜜</p>
		</div>
		<div id = "footer2">
		<p class = "l7">关于INCAKE</p>
		<p>品牌故事</p>
		<p>产品理念</p>
		<p>优质体验</p>
		<p>合作单位</p>
		</div>
		<div id = "footer3">
		<p class = "l8">加入INCAKE</p>
		<p>关于我们</p>
		<p>联系我们</p>
		<p>英才招聘</p>
		</div>
	</div>
	<div id = "base">
		<img src="images/footer_logo.png" id = "oimg6">
		<p class = "day">周一至周日<br/><br/>
			8:30~21:00 
		</p>
		<p class = "service">客服<br/><br/>热线
		</p>
		<p class = "tel">400-921-5757</p>
		<img src = "images/footer_shgs.jpg" id = "oimg7">
		<div id = "brief">
			<p>股票代码:837489印克电商</p>
			<p>沪ICP备12045835号<img src="images/footer_gongan.png">沪公网安备31010802001150号</p>
			<p>版权所有:上海印克电子商务股份有限公司Copyright©2012-2016</p>
		</div>
	</div>
</body>
<script type="text/javascript">
	var tel = document.getElementById("tel");
	var tel_span = document.getElementById("tel_span");
	tel.onblur = function(){
		var oTel = tel.value;
		if(/^1(3|4|5|7|8)\d{9}$/.test(oTel)){
			tel_span.innerHTML = "√";
			tel_span.style.color = "green";
	}else{
			tel_span.innerHTML = "手机号格式不正确";
			tel_span.style.color = "red";
	}
	}
	var pwd = document.getElementById("pwd");
	var pwd_span = document.getElementById("pwd_span");
	pwd.onblur = function(){
		if(this.value.length >= 6 && this.value.length <= 18){
			pwd_span.style.color = 'green';
		if(/\d/.test(this.value) && /[a-z]/.test(this.value) && /[A-Z]/.test(this.value)){
			pwd_span.innerHTML = '【强】';
		}else if(/\d/.test(this.value) || /[a-z]/.test(this.value) || /[A-Z]/.test(this.value)){
			pwd_span.innerHTML = '【弱】';
		}else{
			pwd_span.innerHTML = '【一般】';
		}
		}else{
			pwd_span.innerHTML = '密码长度应该为6到18位';
			pwd_span.style.color = 'red';
		}
	}
	var rpwd = document.getElementById("rpwd");
	var rpwd_span = document.getElementById("rpwd_span");
	rpwd.onblur = function(){
		if(this.value != pwd.value){
			rpwd_span.innerHTML = '两次密码输入不一致';
			rpwd_span.style.color = 'red';
		}else{
			rpwd_span.innerHTML = '√';
			rpwd_span.style.color = 'green';
		}
	}
	var uName = document.getElementById("name");
	var name_span = document.getElementById("name_span");
		uName.onblur = function(){
			var oName = this.value;
			if(/^[\u4E00-\u9FA5]{2,4}$/.test(oName)){
				name_span.innerHTML = '√'
				name_span.style.color = 'green';
			}else{
				name_span.innerHTML = '不符合标准';
				name_span.style.color = 'red';
			}
		}
		var btn = document.getElementById("reg");
		btn.onclick = function(){
			var p_value = pwd.value;
				var t_value = tel.value;
				var r_value = rpwd.value;
				var n_value = uName.value;
				
				if((p_value != "") && (t_value != "") && (r_value != "" )&& (n_value != "")){

					
					setCookie("tel",t_value,getDate(15));
					setCookie("pwd",p_value,getDate(15));

					setTimeout(function(){		
					    window.location.href="login.html";
			     },2000);
				}

		}
	
	$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[0].child.length; i++){
					html += "<div id = 'pd'>" + data[0].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(0).find("div").html(html);
			}
		})
		$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[3].child.length; i++){
					html += "<div id = 'act'>" + data[3].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(3).find("div").html(html);
			}
		})
		$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[4].child.length; i++){
					html += "<div id = 'inc'>" + data[4].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(4).find("div").html(html);
			}
		})
		$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[5].child.length; i++){
					html += "<div id = 'ent'>" + data[5].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(5).find("div").html(html);
			}
		})

		$.ajax({
			url: "../code/register.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < 1; i++){
					html += "<p>" + data[i].title + "</p>"
				}
				$("#title").html(html);
			}
		})
		$.ajax({
			url: "../code/register.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[0].child.length; i++){
					html += '<li><img src="'+data[0].child[i].img+'" alt = ""><p class = "title">' + data[0].child[i].title + '</p><p class = "price">' + data[0].child[i].price + "<p class = 'txt'>" + data[0].child[i].text + '</p></p></li>' 
				}
				$("#subject").html(html);
			}
		})

		$("#subject").hover(function(){

			$(this).find("li").find("p").eq(2).css("display", "block");
		},function(){
			$(this).find("li").find("p").eq(2).css("display", "none");
		})

		$("#subject").hover(function(){

			$(this).find("li").eq(1).find("p").eq(2).css("display", "block");
		},function(){
			$(this).find("li").eq(1).find("p").eq(2).css("display", "none");
		})
		$("#subject").hover(function(){

			$(this).find("li").eq(2).find("p").eq(2).css("display", "block");
		},function(){
			$(this).find("li").eq(2).find("p").eq(2).css("display", "none");
		})
		$("#subject").hover(function(){

			$(this).find("li").eq(3).find("p").eq(2).css("display", "block");
		},function(){
			$(this).find("li").eq(3).find("p").eq(2).css("display", "none");
		})

		var oUl = document.getElementById('ul1');
		var aLi = oUl.getElementsByTagName('li');
		var oBg = aLi[aLi.length - 1];
		for(var i = 0; i < aLi.length - 1; i++){
			aLi[i].onmouseover = function(){
				startMove(oBg, this.offsetLeft);
				var oDiv = this.getElementsByTagName("div")[0];
				oDiv.style.height = "auto";
				var iHeight = oDiv.offsetHeight;
				oDiv.style.height = "0px";
				startMove(oDiv, {opacity : 100, height : iHeight});
			}
			aLi[i].onmouseout = function(){
				var oDiv = this.getElementsByTagName("div")[0];
				startMove(oDiv, {opacity : 0, height : 0})
			}
		}
</script>
</html>



