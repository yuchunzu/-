<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="css/shopCar.css">
	<script src="js/jquery-1.11.3.js"></script>
	<script type="text/javascript" src = "js/cookies.js"></script>
	<script type="text/javascript" src = "js/perfect_startMove.js"></script>
	<script type="text/javascript" src='js/jQ.js'></script>
</head>
<body>
	<div id = "header">
		<span class = "Tin">欢迎来到时光印克!</span>
		<span class = "time">周一至周日8:30~21:00</span>
		<span class = "ser">客服热线:400-921-5757</span>
		<span class = "stock" >股票代码:837489</span>
		<a href = "#"><img src="images/tu.png"/><span>0</span>件</a>
		<a href = "login.html" id = "login">登录 | </a>
		<a href = "register.html" id = "register">注册</a>
		<span class = "adr"><img src = "images/tu1.png"/><a href = "#">南京</a></span>
	</div>
	<div id = "nav">
		<div id = "img1"><img src="images/1logo.png"/></div>
		<div id = "uli">
			<ul id = "ul1">
				<li><a href = "shop.html">蛋糕馆</a><div id = "cake"></div></li>
				<li><a href="#">GAW蛋糕</a><div id = "Gaw"></div></li>
				<li><a href="#">思蜜</a><div id = "sca"></div></li>
				<li><a href="#">活动专享</a><div id = "sales"></div></li>
				<li><a href="#">我的INCAKE</a><div id = "myInc"></div></li>
				<li><a href="#">企业专区</a><div id = "enz"></div></li>
				<li></li>
			</ul>
		</div>
	</div>
	<div id="box">
		<ul class="header">
			<li>名称</li>
			<li>数量</li>
			<li>单价</li>
		</ul>
		<div id="goodsList">
			<p id="hide">购物车是空的，请先去选购商品吧！！<a href="details.html">去逛逛</a></p>
		</div>
		<p class="footer"><input type="button" id="buy" value="结算"><span>&yen;<em id="all">0<em></span></p>
	</div>
	<div id = "bottom">
			<img src="images/1.png" id = "oimg1">
			<div id = "l1">
				<p>全年无休</p>
				<p>送货上门</p>
				<p>多种支付</p>
			</div>
			<img src="images/2.png" id = "oimg2">
			<div id = "l2">
				<p>品牌保障</p>
				<p>专业挑选</p>
				<p>品质认证</p>
			</div>
			<img src="images/3.png" id = "oimg3">
			<div id = "l3">
				<p>安全配送</p>
				<p>专人专区</p>
				<p>及时送达</p>
			</div>
			<img src="images/4.png" id = "oimg4">
			<div id = "l4">
				<p>专业客服</p>
				<p>贴心服务</p>
				<p>创造感动</p>
			</div>
	</div>
	<div id = "filter">
		<img src="images/footer.png" id = "oimg5">
		<div id = "wec">
			<p class = "title">微信订购流程:</p>
			<p class = "t2">关注微信公众号→点击[微信订购]→[蛋糕预定]→选择蛋糕磅数[立即购买]→点击[去结算]→确认订单信息→选择[支付方式]→输入优惠券密码→提交订单</p>
		</div>
		<div id = "footer">
		<p class = "l5">新手上路</p>
		<p>购买流程</p>
		<p>支付方式</p>
		<p>配送范围</p>
		<p>退货服务</p>
		<p>帮助中心</p>
		</div>
		<div id = "footer1">
		<p class = "l6">INCAKE产品</p>
		<p>精品蛋糕</p>
		<p>定制蛋糕</p>
		<p>INSWEET|思蜜</p>
		</div>
		<div id = "footer2">
		<p class = "l7">关于INCAKE</p>
		<p>品牌故事</p>
		<p>产品理念</p>
		<p>优质体验</p>
		<p>合作单位</p>
		</div>
		<div id = "footer3">
		<p class = "l8">加入INCAKE</p>
		<p>关于我们</p>
		<p>联系我们</p>
		<p>英才招聘</p>
		</div>
	</div>
	<div id = "base">
		<img src="images/footer_logo.png" id = "oimg6">
		<p class = "day">周一至周日<br/><br/>
			8:30~21:00 
		</p>
		<p class = "service">客服<br/><br/>热线
		</p>
		<p class = "tel">400-921-5757</p>
		<img src = "images/footer_shgs.jpg" id = "oimg7">
		<div id = "brief">
			<p>股票代码:837489印克电商</p>
			<p>沪ICP备12045835号<img src="images/footer_gongan.png">沪公网安备31010802001150号</p>
			<p>版权所有:上海印克电子商务股份有限公司Copyright©2012-2016</p>
		</div>
	</div>
</body>
<script type="text/javascript">
	var hide = document.getElementById("hide");
	var goodsList = document.getElementById("goodsList");
	var All = document.getElementById("all");
	var all = 0;
	var coo = cookie();
	if(coo){
		hide.style.display = 'none';
		for(var key in coo){
			var arr1 = coo[key].split('|');
			var arr2 = [];
			var obj = {};
			for(var i = 0; i < arr1.length; i++){
				arr2.push(arr1[i].split('#'));
			}
			for(var j = 0; j < arr2.length; j++){
				obj[arr2[j][0]] = arr2[j][1];
			}
			var oDl = document.createElement("dl");
			var oDt = document.createElement("dt");
			var oImg = document.createElement("img");
			oImg.src = obj.imgUrl;
			var oText = document.createElement("span");
			oText.innerHTML = obj.name;
			var oA = document.createElement("a");
			oA.href = obj.url;
			var oCheck = document.createElement("input");
			oCheck.type = 'checkbox';
			oA.appendChild(oImg);
			oA.appendChild(oText);
			oDt.appendChild(oCheck);
			oDt.appendChild(oA);
			oDl.appendChild(oDt);
			var oNumber = document.createElement('dd');
			oNumber.className = 'oNumber';
			oNumber.innerHTML = obj.number;
			oDl.appendChild(oNumber);
			var oPrice = document.createElement("dd");
			oPrice.className = 'oPrice';
			oPrice.innerHTML = obj.price;
			oDl.appendChild(oPrice);
			var oDelet = document.createElement('dd');
			oDelet.className = 'oDelet';
			oDelet.innerHTML = '删除商品';
			oDelet.id = obj.id;
			oDl.appendChild(oDelet);
			goodsList.appendChild(oDl);

		}
		var oC = goodsList.getElementsByTagName("input");
		var oP = goodsList.getElementsByClassName('oPrice');
		var oN = goodsList.getElementsByClassName('oNumber');
		var oD = goodsList.getElementsByClassName('oDelet');
		for(var k = 0; k < oC.length; k++){
			oC[k].index = k;
			oD[k].index = k;
			oC[k].onchange = function(){
			var p = oP[this.index].innerHTML * parseInt(oN[this.index].innerHTML);
				if(this.checked){
					all += p;
				}else{
					all -= p;
				}
				All.innerHTML = all;
			}
			oD[k].onclick = function(){
				cookie(this.id, "", -1);
				if(this.parentNode.childNodes[0].childNodes[0].checked){
					all -= oP[this.index].innerHTML * parseInt(oN[this.index].innerHTML);
				}
				All.innerHTML = all;
				this.parentNode.style.display = 'none';
			}
		}
	}
	$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[0].child.length; i++){
					html += "<div id = 'pd'>" + data[0].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(0).find("div").html(html);
			}
		})
		$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[3].child.length; i++){
					html += "<div id = 'act'>" + data[3].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(3).find("div").html(html);
			}
		})
		$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[4].child.length; i++){
					html += "<div id = 'inc'>" + data[4].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(4).find("div").html(html);
			}
		})
		$.ajax({
			url: "../code/index.json",
			type: 'GET',
			success: function(data){
				var html = "";
				for(var i = 0; i < data[5].child.length; i++){
					html += "<div id = 'ent'>" + data[5].child[i].title + "</div>"
				}
				$("#uli").find("ul").find("li").eq(5).find("div").html(html);
			}
		})


			var oUl = document.getElementById('ul1');
		var aLi = oUl.getElementsByTagName('li');
		var oBg = aLi[aLi.length - 1];
		for(var i = 0; i < aLi.length - 1; i++){
			aLi[i].onmouseover = function(){
				startMove(oBg, this.offsetLeft);
				var oDiv = this.getElementsByTagName("div")[0];
				oDiv.style.height = "auto";
				var iHeight = oDiv.offsetHeight;
				oDiv.style.height = "0px";
				startMove(oDiv, {opacity : 100, height : iHeight});
			}
			aLi[i].onmouseout = function(){
				var oDiv = this.getElementsByTagName("div")[0];
				startMove(oDiv, {opacity : 0, height : 0})
			}
		}
</script>
</html>